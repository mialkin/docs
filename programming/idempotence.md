# Idempotence. Safe and idempotent HTTP methods

An **idempotence** is the property that an operation may be applied multiple times with the result not differing from the first application.

A typical crosswalk button is an example of an idempotent system.

## Safe and idempotent HTTP methods

A **safe HTTP method** is a HTTP method that doesn't alter the state of the server. Safe HTTP methods: `GET`, `HEAD`, `OPTIONS`, `TRACE`, `PUT` and `DELETE`.

All safe methods are also _idempotent_, but not all idempotent methods are safe. For example, `PUT` and `DELETE` are both idempotent but unsafe.

An **idempotent HTTP method** is a HTTP method that can be called many times without causing unintended side effects. Idempotent HTTP methods: `GET`, `HEAD`, `PUT`, `DELETE`, `OPTIONS`, and `TRACE`.

Not idempotent HTTP methods: `POST`, `PATCH`.

| **Name**    | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **POST**    | Use `POST` to create a new resource                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **PUT**     | Use `PUT` to modify a resource. `PUT` updates the entire resource with data that is passed in the body payload. If there is no resource that matches the request, it will create a new resource. With `PUT` you need to pass in data to update the entire resource, even if you only want to modify one field. If you just want to update part of your resource, you still need to send in data for the entire resource when you make a `PUT` request. The better-suited option here would be `PATCH`. |
| **PATCH**   | A PATCH is not necessarily idempotent, although it can be. Contrast this with `PUT`; which is always idempotent. For example if an auto-incrementing counter field is an integral part of the resource, then a `PUT` will naturally overwrite it, since it overwrites everything, but not necessarily so for `PATCH`                                                                                                                                                                                   |
| **HEAD**    | Similar to `GET` but returns only headers, no body. Used to check metadata                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **OPTIONS** | Describes the communication options for the target resource                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **TRACE**   | Echoes the received request, used for debugging purposes                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **CONNECT** | Establishes a tunnel to the server, typically used for HTTPS over a proxy                                                                                                                                                                                                                                                                                                                                                                                                                              |
